@function switch($color) {
    @if (lightness($color) > 50) {
        @return $text-dark; // return dark color on light background
    } @else {
        @return $text-light; // return light color on dark background
    }
}

@function detect($color, $percentage) {
    @if (lightness($color) > 50) {
        @return darken($color, $percentage);
    } @else {
        @return lighten($color, $percentage);
    }
}